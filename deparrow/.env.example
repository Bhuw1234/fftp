# =============================================================================
# DEparrow Production Environment Configuration
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Update ALL values with secure, unique passwords
# 3. NEVER commit .env to version control
# 4. Rotate secrets regularly (recommended: every 90 days)
#
# GENERATING SECURE SECRETS:
#   macOS/Linux: openssl rand -hex 32
#   or:          openssl rand -base64 24
#
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED SECRETS (Must be set - no defaults for production security)
# -----------------------------------------------------------------------------

# JWT signing key for Meta-OS authentication
# Generate: openssl rand -hex 32
DEPARROW_SECRET_KEY=change-me-to-secure-random-string

# PostgreSQL password - MUST be changed from default
# Generate: openssl rand -base64 24
POSTGRES_PASSWORD=change-me-to-secure-password

# Grafana admin password - MUST be changed from default
# Generate: openssl rand -base64 24
GRAFANA_ADMIN_PASSWORD=change-me-to-secure-password

# -----------------------------------------------------------------------------
# OPTIONAL CONFIGURATION (Has safe defaults)
# -----------------------------------------------------------------------------

# --- Meta-OS API ---
# Port to expose Meta-OS API (default: 8080)
METAOS_PORT=8080

# Logging level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# --- Database Configuration ---
# PostgreSQL version (default: 15)
POSTGRES_VERSION=15

# PostgreSQL username (default: deparrow)
POSTGRES_USER=deparrow

# PostgreSQL database name (default: deparrow)
POSTGRES_DB=deparrow

# --- Redis Configuration ---
# Redis version (default: 7)
REDIS_VERSION=7

# Redis host (default: redis)
REDIS_HOST=redis

# Redis port (default: 6379)
REDIS_PORT=6379

# Redis database number (default: 0)
REDIS_DB=0

# Optional: Redis password (uncomment to enable)
# Generate: openssl rand -hex 16
# REDIS_PASSWORD=your-redis-password

# --- GUI Configuration ---
# Port to expose GUI (default: 3000)
GUI_PORT=3000

# API URL for frontend (default: http://localhost:8080)
VITE_API_URL=http://localhost:8080

# --- Bacalhau Configuration ---
# Bacalhau image version (default: latest)
BACALHAU_VERSION=latest

# Orchestrator NATS port (default: 4222)
ORCHESTRATOR_NATS_PORT=4222

# Orchestrator API port (default: 1234)
ORCHESTRATOR_API_PORT=1234

# --- Prometheus Configuration ---
# Prometheus version (default: latest)
PROMETHEUS_VERSION=latest

# Port to expose Prometheus (default: 9090)
PROMETHEUS_PORT=9090

# --- Grafana Configuration ---
# Grafana version (default: latest)
GRAFANA_VERSION=latest

# Port to expose Grafana (default: 3001)
GRAFANA_PORT=3001

# Grafana admin username (default: admin)
GRAFANA_ADMIN_USER=admin

# Allow user sign-up (default: false)
GRAFANA_ALLOW_SIGNUP=false

# Allow anonymous access (default: false)
GRAFANA_ANONYMOUS=false

# =============================================================================
# SECURITY CHECKLIST
# =============================================================================
#
# Before deploying to production, verify:
#
# [ ] All REQUIRED SECRETS are changed from defaults
# [ ] Passwords are at least 16 characters
# [ ] .env file is NOT committed to git
# [ ] .env file has restricted permissions (chmod 600 .env)
# [ ] Secrets are stored in a secure secret manager (optional but recommended)
# [ ] SSL/TLS is configured for external access
# [ ] Firewall rules restrict access to sensitive ports
#
# =============================================================================
